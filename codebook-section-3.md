```python
%matplotlib inline
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from pysentani import find_survey
from sentani_temp import pie_chart_boolean
```

# Code Book for Lake Sentani survey data

This document briefly describes the data for each of the columns in this survey.
The original questions can be found in the sentani_lake_form_v11.xls document.
For each column of the data, this document will describe the question and a
brief summary or description of the results.

The document will also point out any fields that need further analysis or appear
to need inspection to remove errors.

```python
survey = find_survey('../sentani')
print('number of entries =', len(survey))
print('number of columns =', len(survey.columns))
```

## section_03

## lack_of_energy

English: What can't you do today because of a lack of energy?

Indonesian: Apa yang tidak dapat anda lakukan sekarang karena kekurangan energi?

```python
survey['lack_of_energy'].unique()
```

## electric_income_y_n

TODO: can we check for consistency with group_income_reg/electric_income

English: Do you currently use electricity for any income generating activities?

Indonesian: Apakah sekarang anda menggunakan listrik untuk segala kegiatan yang
menghasilkan pendapatan?

```python
survey['electric_income_y_n'].value_counts()
```

```python
eiyn = pie_chart_boolean('electric_income_y_n',survey, False)
```

## group_electric_income/electric_income_desc

Text field describing income generation using electricity.

English: Please describe the income generating activities that use electricity.

Indonesian: Jelaskanlah kegiatan yang menghasilkan pendapatan yang menggunakan
listrik.

```python
survey['group_electric_income/electric_income_desc'].unique()
```

## group_electric_income/electric_income

This is the monetary income from electricity sources.

TODO: count non-zero elements and compare to electric_income_freq variable

English: Please describe the income generating activities that use electricity.
Amount of income (Rp)?

Indonesian: Jelaskanlah kegiatan yang menghasilkan pendapatan yang menggunakan
listrik. Jumlah pendapatan (Rp)?

```python
survey['group_income_reg/electric_income'].describe()
```

## group_electric_income/electric_income_freq

English: Please describe the income generating activities that use electricity.
Frequency of income?

Indonesian: Jelaskanlah kegiatan yang menghasilkan pendapatan yang menggunakan
listrik. Frekuensi pendapatan?

```python
survey['group_electric_income/electric_income_freq'].value_counts(dropna=False)
```

## entertainment
Text field describing source of entertainment.  This could be parsed into
columns for TV, radio, etc.  It isn't clear whether or not this field implies
ownership.

English: What is your primary source of entertainment.

Indonesian: Apa sumber utama hiburan anda?

```python
survey['entertainment'].unique()
```

## HP_charging_source

TODO: This needs to be coded for analysis.  Currently, all values are in a text
string.

| Indonesian | English |
|------------|---------|
| Listrik    | Electricity |
| Genset    | Generator |
| Pribadi | Personal |

English: What is primary source of phone charging?

Indonesian: Apa sumber utama mengisi hp anda?

```python
survey['HP_charging_source'].unique()
```

## lighting

This is a categorical field.

English: What is the primary source of lighting?

Indonesian: Apa sumber utama penerangan?

```python
survey['lighting'].value_counts(dropna=False)
```

## lighting_other

| Indonesian | English  |
|------------|----------|
| Tetangga   | Neighbor |

English: Please describe what you meant by "other."

Indonesian: Jelaskanlah apa yang anda maksud dengan "lain - lain."

```python
survey['lighting_other'].value_counts(dropna=False)
```

## power_supply_y_n

English: Has this location ever had access to any electricity source (public or
private)?

Indonesian: Apakah lokasi ini pernah memperoleh akses listrik (dari pemerintah,
swasta, pribadi, atau kampung)?

```python
survey['power_supply_y_n'].value_counts(dropna=False)
```

```python
psyn = pie_chart_boolean('power_supply_y_n',survey,False)
```

## power_supply

TODO: check that these are consistent with other values.  Also check if the
columns are autogenerated by ODK.

English: Which of the following electricity power supplies has this location
ever had access to (select any that apply)?

Indonesian: Yang mana sumber-sumber tenaga listrik selanjutnya yang pernah masuk
ke lokasi ini? (pilih yang dapat digunakan)?

```python
survey['power_supply'].value_counts(dropna=False)
```

## power_supply/PLN_grid

English: PLN grid.

Indonesian: Jaringan PLN.

```python
survey['power_supply/PLN_grid'].value_counts(dropna=False)
```

```python
psPLNgg = pie_chart_boolean('power_supply/PLN_grid',survey, False)
```

## power_supply/PLN_microgrid

English: PLN microgrid.

Indonesian: Jaringan mikro PLN

```python
survey['power_supply/PLN_microgrid'].value_counts(dropna=False)
```

```python
psPLNmgg = pie_chart_boolean('power_supply/PLN_microgrid',survey, False)
```

## power_supply/community_microgrid

English: Community microgrid.

Indonesian: Jaringan mikro kampung.

```python
survey['power_supply/community_microgrid'].value_counts(dropna=False)
```

```python
PLNgmyn = pie_chart_boolean('PLN_grid_metered_y_n',survey,False)
```

## power_supply/private_genset

English: Private genset.

Indonesian: Genset pribadi.

```python
survey['power_supply/private_genset'].value_counts(dropna=False)
```

```python
pspgg = pie_chart_boolean('power_supply/private_genset',survey, False)
```

## power_supply/solar_home_system

English: Solar home system.

Indonesian: Sistem tenaga surya.

```python
survey['power_supply/solar_home_system'].value_counts(dropna=False)
```

```python
psshsg = pie_chart_boolean('power_supply/solar_home_system',survey, False)
```

## power_supply/other

English:  Other.

Indonesian: Lain - lain.

```python
survey['power_supply/other'].value_counts(dropna=False)
```

```python
k3 = pie_chart_boolean('power_supply/other',survey, False)
```

## power_supply_other

English: Please describe what you meant by "other."

Indonesian: Jelaskanlah apa yang anda maksud dengan "lain - lain."

```python
survey['power_supply_other'].value_counts(dropna=False)
```

## PLN_grid_year

TODO: there are some fairly obvious five digit years in here that aren't correct

English: What year did the PLN grid connect to this location?

Indonesian: Tahun berapa koneksi jaringan PLN ada di lokasi ini?

```python
survey['PLN_grid_year'].unique()
```

## PLN_grid_metered_y_n

English: Is the electricity from the PLN grid metered at this location?

Indonesian: Apakah ada meteran listrik PLN di lokasi ini?

```python
survey['PLN_grid_metered_y_n'].value_counts(dropna=False)
```

```python
z = pie_chart_boolean('PLN_grid_metered_y_n',survey, False)
```

## PLN_grid_meter

English: What type of meter (for PLN grid connection)?

Indonesian: Apakah jenis meteran (untuk koneksi jaringan PLN)?

```python
survey['PLN_grid_meter'].value_counts(dropna=False)
```

```python
PLNgmg = sns.countplot(x="PLN_grid_meter", data=survey)
```

## PLN_grid_meter_reading

Statistics on this should have no meaning since the meter reading must be
observed over time.

English: What is the current "kWh" reading on the PLN grid meter?

Indonesian: Berapa "kwh" sekarang terbaca pada meteran PLN?

```python
survey['PLN_grid_meter_reading'].describe()
```

## PLN_microgrid_year

Question: Should these should be homogenous within a village?

English: What year did the PLN micro-grid connect to this location?

Indonesian: Tahun berapa koneksi jaringan mikro PLN ada di lokasi ini?

```python
survey['PLN_microgrid_year'].value_counts(dropna=False)
```

## PLN_microgrid_metered_y_n

English: Is the electricity from the PLN micro-grid metered at this location?

Indonesian: Apakah ada meteran listrik dari jaringan mikro PLN di lokasi ini?

```python
survey['PLN_microgrid_metered_y_n'].value_counts(dropna=False)
```

## PLN_microgrid_meter

English: What type of meter (for PLN micro-grid connection)?

Indonesian: Apakah jenis meteran (untuk koneksi jaringan mikro PLN)?

```python
survey['PLN_microgrid_meter'].value_counts(dropna=False)
```

```python
PLNmmg = sns.countplot(x="PLN_microgrid_meter", data=survey)
```

## PLN_microgrid_meter_reading

English: What is the current "kWh" reading on the PLN micro-grid meter?

Indonesian: Berapa "kwh" sekarang terbaca pada meteran jaringan mikro PLN?

```python
survey['PLN_microgrid_meter_reading'].describe()
```

## community_microgrid_year

English: What year did the community micro-grid connect to this location?

Indonesian: Tahun berapa koneksi jaringan mikro kampung ada di lokasi ini?

```python
survey['community_microgrid_year'].describe()
```

## community_microgrid_metered_y_n

English: Is the electricity from the community micro-grid metered at this
location?

Indonesian: Apakah ada meteran listrik dari jaringan mikro kampung di lokasi
ini?

```python
survey['community_microgrid_metered_y_n'].value_counts(dropna=False)
```

## community_microgrid_meter

English: What type of meter (for community micro-grid connection)?

Indonesian: Apakah jenis meteran (untuk koneksi jaringan mikro kampung)?

```python
survey['community_microgrid_meter'].value_counts(dropna=False)
```

##community_microgrid_meter_reading

English: What is the current "kWh" reading on the community micro-grid meter?

Indonesian: Berapa "kwh" sekarang terbaca pada meteran jaringan mikro kampung?

```python
survey['community_microgrid_meter_reading'].describe()
```

## private_genset_year

English: What year did you obtain your private genset?

Indonesian: Tahun berapa anda memperoleh genset pribadi anda?

```python
survey['private_genset_year'].describe()
```

## private_genset_size_w_or_VA

English: Is the size of the genset given in watts or volt-amps?

Indonesian: Apakah watt atau volt-amp macin (genset) anda?

```python
survey['private_genset_size_w_or_VA'].value_counts(dropna=False)
```

## private_genset_size_w

English: How many watts is the genset size?

Indonesian: Berapa watt (atau volt-ampere) genset anda?

```python
survey['private_genset_size_w'].describe()
```

## private_genset_size_volts

English: How many watts volts is the genset size?

Indonesian: Berapa volt genset anda?

```python
survey['private_genset_size_volts'].describe()
```

## private_genset_size_amps

English: How many watts amps is the genset size?

Indonesian: Berapa ampere genset anda?

```python
survey['private_genset_size_amps'].describe()
```

## private_genset_price

English: How much did you pay for your genset (Rp)?

Indonesian: Berapa harga genset anda (Rp)?

```python
survey['private_genset_price'].describe()
```

## solar_home_system_year

English: What year did you obtain your solar home system?

Indonesian: Tahun berapa anda memperoleh sistem tenaga surya?

```python
survey['solar_home_system_year'].describe()
```

## battery_volts

English: How many (nominal) volts is the battery bank for the solar home system?

Indonesian: Berapa tegangan (nominal) gugus baterai untuk sistem tenaga surya?

```python
survey['battery_volts'].value_counts(dropna=False)
```

## battery_Ah

English: How many Amp-hours is the battery bank for the solar home system?

Indonesian: Berapa Ampere-jam gugus baterai untuk sistem tenaga surya?

```python
survey['battery_Ah'].value_counts(dropna=False)
```

## array_Wp

15015 value looks suspect since it is very large and very specific

English: How many watts (Wp) is the solar array for the solar home system?

Indonesian: Berapa watt (Wp) panel surya untuk sistem tenaga surya?

```python
survey['array_Wp'].value_counts(dropna=False)
```

## inverter_y_n

English: Does the solar home system have an AC inverter?

Indonesian: Apakah sistem tenaga surya tersebut memiliki perangkat arus bolak-
balik?

```python
survey['inverter_y_n'].value_counts(dropna=False)
```

## inverter_size

English: How many watts is the inverter for the solar home system ?

Indonesian: Berapa watt perangkat arus bolak-balik tersebut untuk sistem tenaga
surya?

```python
survey['inverter_size'].value_counts(dropna=False)
```

##solar_home_system_price

This looks especially suspect.

English: How much did you pay for the solar home system (Rp)?

Indonesian: Berapa biaya yang anda bayar untuk sistem tenaga surya (Rp)?

```python
survey['solar_home_system_price'].value_counts(dropna=False)
```

##power_supply_other_year

English: What year did you obtain ${power_supply_other} (power system other)?

Indonesian: Tahun berapa anda memperoleh ${power_supply_other} (sistem tenaga
listrik yang lain)?

```python
survey['power_supply_other_year'].value_counts(dropna=False)
```

##power_supply_working

English: Which of the existing electricity power supplies works now?

Indonesian: Yang mana supply listrik yang sedang berfungsi sekarang?

```python
survey['power_supply_working'].value_counts(dropna=False)
```

##power_supply_working/PLN_grid

English: PLN grid.

Indonesian: Jaringan PLN.

```python
survey['power_supply_working/PLN_grid'].value_counts(dropna=False)
```

```python
pswPLNgp = pie_chart_boolean('power_supply_working/PLN_grid',survey, False)
```

## power_supply_working/PLN_microgrid

English: PLN microgrid.

Indonesian: Jaringan mikro PLN

```python
survey['power_supply_working/PLN_microgrid'].value_counts(dropna=False)
```

```python
pswPLNmg = pie_chart_boolean('power_supply_working/PLN_microgrid',survey, False)
```

## power_supply_working/community_microgrid

English: Community microgrid.

Indonesian: Jaringan mikro kampung.

```python
survey['power_supply_working/community_microgrid'].value_counts(dropna=False)
```

```python
pswcm = pie_chart_boolean('power_supply_working/community_microgrid',survey, False)
```

## power_supply_working/private_genset

English: Private genset.

Indonesian: Genset pribadi.

```python
survey['power_supply_working/private_genset'].value_counts(dropna=False)
```

```python
pswpgg = pie_chart_boolean('power_supply_working/private_genset',survey,False)
```

## power_supply_working/solar_home_system

English: Solar home system.

Indonesian: Sistem tenaga surya.

```python
survey['power_supply_working/solar_home_system'].value_counts(dropna=False)
```

```python
pswshs = pie_chart_boolean('power_supply_working/solar_home_system',survey,False)
```

## power_supply_working/other

English: Other.

Indonesian: Lain-lain.

```python
survey['power_supply_working/other'].value_counts(dropna=False)
```

```python
pswop = pie_chart_boolean('power_supply_working/other',survey, False)
```

##PLN_expenditure

English: How much money do you pay to PLN for electricity each month (Rp/month)?

Indonesian: Berapa biaya listrik yang anda bayar ke PLN setiap bulan (Rp/bulan)?

```python
survey['PLN_expenditure'].describe()
```

## community_microgrid_expenditure

English: How much money do you pay to the community for electricity each month,
from the village micro-grid (Rp/month)?

Indonesian: Berapa biaya listrik kampung yang anda bayar setiap bulan dari
jaringan mikro kampung (Rp/bulan)?

```python
survey['community_microgrid_expenditure'].describe()
```

##genset_expenditure

English: How much do you spend on fuel each week to operate your private genset
(Rp/day)?

Indonesian: Berapa biaya yang anda habiskan untuk membeli bahan bakar genset
(Rp/hari)?

```python
survey['genset_expenditure'].describe()
```

##power_supply_notes

This is a free form text field.  I'm noticing several comments about voltage
drop.

English: Please provide any additional notes related to existing power supplies.

Indonesian: Sediakankanlah catatan tambahan yang berhubungan dengan supply
listrik yang ada.

```python
survey['power_supply_notes'].unique()
```

## in_home_wiring_safety

English: How safe does the in-home wiring look?

Indonesian: Seberapa aman kelihatannya pemasangan kabel listrik ke rumah?

```python
survey['in_home_wiring_safety'].value_counts(dropna=False)
```

## in_home_wiring_notes

Free form text field

English: Any notes on in-home wiring:

Indonesian: Catatan untuk pemasangan kabel listrik ke rumah:

```python
survey['in_home_wiring_notes'].value_counts(dropna=False)
survey['in_home_wiring_notes'].unique()
```
